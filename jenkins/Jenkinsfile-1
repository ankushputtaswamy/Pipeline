pipeline {
agent any

parameters {
  string defaultValue: '172.31.41.133', name: 'VARIABLE', trim: true
}

environment {
  MASTERNODEIP = "${VARIABLE}"
}

stages {
    stage ('BUILD') {
        steps {
            sh '''
            echo "This is BUILD STAGE running in $MASTERNODEIP"
            '''
        }
    }
    stage ('TESTING') {
            parallel {
            stage('TESTING STAGE in WINDOWS MACHINE') {
                steps {
                sh '''
                echo "This is TESTING STAGE in WINDOWS MACHINE $MASTERNODEIP"
                '''
                    }
                }
            stage('TESTING STAGE in LINUX MACHINE') {
                steps {
                sh '''
                echo "This is TESTING STAGE in WINDOWS MACHINE $MASTERNODEIP"
                '''
                    }
                }
            }
            steps {
            sh '''
            echo "This is TESTING STAGE in WINDOWS MACHINE $MASTERNODEIP"
            '''
            }
            steps {
            sh '''
            echo "This is TESTING STAGE in LINUX MACHINE $MASTERNODEIP"
            '''
            }
        }
        
    }
    stage ('DEPLOY') {
        steps {
            sh '''
            echo "This is DEPLOY STAGE in $MASTERNODEIP"
            '''
        }
    }
}
}