pipeline {
agent any

parameters {
  string defaultValue: 'main', name: 'branch', trim: true
}

environment {
  MASTERNODEIP = "${branch}"
}

stages {
    stage ('BUILD') {
        steps {
            sh '''
            echo "This is BUILD STAGE running in $MASTERNODEIP"
            '''
        }
    }
    stage ('TESING') {
        steps {
            sh '''
            echo "This is TESTING STAGE in $MASTERNODEIP"
            '''
        }
    }
    stage ('DEPLOY') {
        steps {
            sh '''
            echo "This is DEPLOY STAGE in $MASTERNODEIP"
            '''
        }
    }
}
}